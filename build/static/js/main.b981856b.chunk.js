(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,,function(e,t,c){e.exports={header:"MainNavigation_header__3NXFJ",logo:"MainNavigation_logo__nA0pr",nav:"MainNavigation_nav__2POcH",active:"MainNavigation_active__3GSwC"}},function(e,t,c){e.exports={form:"QuoteForm_form__1CI9i",loading:"QuoteForm_loading__2C1VY",control:"QuoteForm_control__vBYXV",actions:"QuoteForm_actions__2NyMB"}},,function(e,t,c){e.exports={form:"NewCommentForm_form__2CeSs",loading:"NewCommentForm_loading__2DVHN",control:"NewCommentForm_control__3o9hd",actions:"NewCommentForm_actions__oQJfQ"}},,,,function(e,t,c){e.exports={list:"QuoteList_list__3ssxU",sorting:"QuoteList_sorting__1v-W6"}},,,,,function(e,t,c){e.exports={item:"QuoteItem_item__Xk9Cy"}},function(e,t,c){e.exports={noquotes:"NoQuotesFound_noquotes__1OgMp"}},,function(e,t,c){e.exports={spinner:"LoadingSpinner_spinner__35wBZ"}},function(e,t,c){e.exports={card:"Card_card__3KhA2"}},function(e,t,c){e.exports={comments:"Comments_comments__1wwXP"}},function(e,t,c){e.exports={item:"CommentItem_item__2qbmA"}},function(e,t,c){e.exports={comments:"CommentsList_comments__1dgmu"}},function(e,t,c){e.exports={quote:"HighlightedQuote_quote__1S_Ns"}},,,,,,,,,,function(e,t,c){},,,,,,,,,function(e,t,c){"use strict";c.r(t);var n=c(19),s=c.n(n),r=(c(40),c(1)),o=c(2),a=c(5),i=c(10),j=c.n(i),u=c(0),d=function(){return Object(u.jsxs)("header",{className:j.a.header,children:[Object(u.jsx)("h1",{className:j.a.logo,children:"Great Quotes"}),Object(u.jsx)("nav",{className:j.a.nav,children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(a.c,{activeClassName:j.a.active,to:"/all-quotes",children:"All Quotes"})}),Object(u.jsx)("li",{children:Object(u.jsx)(a.c,{activeClassName:j.a.active,to:"/new-quote",children:"New Quote"})})]})})]})},l=c(3),b=c(22),m=c.n(b),O=function(e){return Object(u.jsxs)("li",{className:m.a.item,children:[Object(u.jsxs)("figure",{children:[Object(u.jsx)("blockquote",{children:Object(u.jsx)("p",{children:e.text})}),Object(u.jsx)("figcaption",{children:e.author})]}),Object(u.jsx)(a.b,{to:"/all-quotes/".concat(e.id),className:"btn",children:"View Fullscreen"})]})},h=c(17),x=c.n(h),f=function(e){var t=Object(o.h)(),c=Object(o.i)(),n=Object(o.k)(),s="asc"===new URLSearchParams(c.search).get("sort");return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("div",{className:x.a.sorting,children:Object(u.jsxs)("button",{onClick:function(){var c,r;t.push({pathname:n.url,search:"?sort=".concat(s?"desc":"asc")}),c=e.quotes,r=s,c.sort((function(e,t){return r?e.id>t.id?1:-1:e.id<t.id?1:-1}))},children:["Sort ",s?"Descending":"Ascending"]})}),Object(u.jsx)("ul",{className:x.a.list,children:e.quotes.map((function(e){return Object(u.jsx)(O,{id:e.id,author:e.author,text:e.text},e.id)}))})]})},p=c(23),v=c.n(p),_=function(){return Object(u.jsxs)("div",{className:v.a.noquotes,children:[Object(u.jsx)("p",{children:"No quotes found!"}),Object(u.jsx)(a.b,{to:"/new-quote",className:"btn",children:"Add a Quote"})]})},N=c(18),g=c(24),q=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(null),o=Object(l.a)(s,2),a=o[0],i=o[1],j=Object(r.useCallback)(function(){var e=Object(g.a)(Object(N.a)().mark((function e(t,c){var s,r;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),i(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:if((s=e.sent).ok){e.next=8;break}throw new Error("Request Field");case 8:return e.next=10,s.json();case 10:r=e.sent,c(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),i("Something Went Wrong");case 17:n(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,c){return e.apply(this,arguments)}}(),[]);return{isLoading:c,error:a,requestFn:j}},C=c(25),F=c.n(C),w=function(){return Object(u.jsx)("div",{className:F.a.spinner})},S=function(e){var t=q(),c=t.isLoading,n=t.error,s=t.requestFn,o=Object(r.useState)([]),a=Object(l.a)(o,2),i=a[0],j=a[1];return Object(r.useEffect)((function(){s({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json"},(function(e){var t=[];Object.entries(e).map((function(e){var c=Object(l.a)(e,2),n=c[0],s=c[1];return t.push({id:n,text:s.text,author:s.author})})),j(t)}))}),[s]),c?Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(w,{})}):n?Object(u.jsx)("p",{className:"centered focused",children:n}):n||c||0!==i.length?Object(u.jsx)("div",{children:Object(u.jsx)(f,{quotes:i})}):Object(u.jsx)(_,{})},Q=c(26),L=c.n(Q),k=function(e){return Object(u.jsx)("div",{className:L.a.card,children:e.children})},A=c(11),y=c.n(A),I=function(e){var t=Object(r.useState)(!1),c=Object(l.a)(t,2),n=c[0],s=c[1],a=Object(r.useRef)(),i=Object(r.useRef)();return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(o.a,{when:n,message:function(e){return"Are You Sure"}}),Object(u.jsx)(k,{children:Object(u.jsxs)("form",{onFocus:function(){s(!0)},className:y.a.form,onSubmit:function(t){t.preventDefault();var c=a.current.value,n=i.current.value;e.onAddQuote({author:c,text:n})},children:[e.isLoading&&Object(u.jsx)("div",{className:y.a.loading,children:Object(u.jsx)(w,{})}),Object(u.jsxs)("div",{className:y.a.control,children:[Object(u.jsx)("label",{htmlFor:"author",children:"Author"}),Object(u.jsx)("input",{type:"text",id:"author",ref:a})]}),Object(u.jsxs)("div",{className:y.a.control,children:[Object(u.jsx)("label",{htmlFor:"text",children:"Text"}),Object(u.jsx)("textarea",{id:"text",rows:"5",ref:i})]}),Object(u.jsx)("div",{className:y.a.actions,children:Object(u.jsx)("button",{onClick:function(){s(!1)},className:"btn",children:"Add Quote"})})]})})]})},E=function(e){var t=Object(o.h)(),c=q(),n=c.isLoading,s=c.error,a=c.requestFn,i=Object(r.useState)(!1),j=Object(l.a)(i,2),d=j[0],b=j[1];return!d||s||n||t.push("/all-quotes"),Object(u.jsx)("div",{children:Object(u.jsx)(I,{isLoading:n,onAddQuote:function(e){a({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json",method:"POST",body:e},(function(e){b(!0)}))}})})},M=c(31),P=c(27),R=c.n(P),J=c(13),B=c.n(J),D=function(e){var t=Object(r.useRef)(),c=function(c){c.preventDefault(),e.onAddComment(t.current.value)};return e.isLoading?Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(w,{})}):Object(u.jsxs)("form",{className:B.a.form,onSubmit:c,children:[Object(u.jsxs)("div",{className:B.a.control,onSubmit:c,children:[Object(u.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(u.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),Object(u.jsx)("div",{className:B.a.actions,children:Object(u.jsx)("button",{className:"btn",children:"Add Comment"})})]})},T=c(28),V=c.n(T),X=function(e){return Object(u.jsx)("li",{className:V.a.item,children:Object(u.jsx)("p",{children:e.text})})},Y=c(29),G=c.n(Y),H=function(e){var t=Object(o.j)(),c=e.comments.filter((function(e){return e.quote===t.quoteId})),n=c.map((function(e){return Object(u.jsx)(X,{text:e.text},e.id)}));return 0===c.length&&(n=Object(u.jsx)("p",{className:"centered",children:"no comments were added yet for this quote"})),Object(u.jsx)("ul",{className:G.a.comments,children:n})},U=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(o.j)(),a=Object(o.h)(),i=Object(o.k)(),j=(Object(o.i)(),q()),d=j.isLoading,b=j.error,m=j.requestFn,O=Object(r.useState)(!1),h=Object(l.a)(O,2),x=h[0],f=h[1];Object(r.useEffect)((function(){d||b||!x||a.replace("/all-quotes/".concat(i.params.quoteId))}),[b,d,x,a,i.params.quoteId]);var p,v=q(),_=v.isLoading,N=v.error,g=v.requestFn,C=Object(r.useState)([]),F=Object(l.a)(C,2),S=F[0],Q=F[1];return Object(r.useEffect)((function(){g({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/comments.json"},(function(e){var t=[];Object.entries(e).map((function(e){var c=Object(l.a)(e,2),n=c[0],s=c[1];return t.push({id:n,text:s.text,quote:s.quote})})),Q(t)}))}),[g]),_&&(p=Object(u.jsxs)("div",{className:"centered",children:[Object(u.jsx)(w,{})," "]})),!_&&!N&&S.length>0&&(p=Object(u.jsx)(H,{comments:S})),_||N||0!==S.length||(p=Object(u.jsx)("p",{className:"centered",children:"no comments were added yet"})),Object(u.jsxs)("section",{className:R.a.comments,children:[Object(u.jsx)("h2",{children:"User Comments"}),!c&&Object(u.jsx)("button",{className:"btn",onClick:function(){n(!0)},children:"Add a Comment"}),c&&Object(u.jsx)(D,{isLoading:d,onAddComment:function(e){m({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/comments.json",method:"POST",body:{quote:s.quoteId,text:e}},(function(e){f(!0)}))},error:b}),p]})},W=c(30),K=c.n(W),Z=function(e){return Object(u.jsxs)("figure",{className:K.a.quote,children:[Object(u.jsx)("p",{children:e.text}),Object(u.jsx)("figcaption",{children:e.author})]})},z=function(){var e=Object(o.j)(),t=(Object(o.h)(),Object(o.i)(),Object(o.k)()),c=q(),n=c.isLoading,s=c.error,i=c.requestFn,j=Object(r.useState)([]),d=Object(l.a)(j,2),b=d[0],m=d[1];Object(r.useEffect)((function(){i({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json"},(function(e){var t=[];Object.entries(e).map((function(e){var c=Object(l.a)(e,2),n=c[0],s=c[1];return t.push({id:n,text:s.text,author:s.author})})),m(t)}))}),[i]);var O=b.filter((function(t){return t.id===e.quoteId})),h=Object(l.a)(O,1)[0],x=Object(M.a)({},h);return n?Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(w,{})}):s?Object(u.jsx)("p",{className:"centered focused",children:s}):s||n||""!==x.text?Object(u.jsxs)("div",{children:[Object(u.jsx)(Z,{text:x.text,author:x.author}),Object(u.jsx)(o.c,{path:"".concat(t.path),exact:!0,children:Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(a.b,{className:"btn--flat",to:"".concat(t.url,"/comments"),children:"Load Comments"})})}),Object(u.jsx)(o.c,{path:"".concat(t.path,"/comments"),children:Object(u.jsx)(U,{})})]}):Object(u.jsx)("p",{children:"No Quote Found"})},$=function(){return Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)("p",{children:"Page Not Found"})})};var ee=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(d,{}),Object(u.jsx)("main",{className:"main",children:Object(u.jsxs)(o.e,{children:[Object(u.jsx)(o.c,{path:"/",exact:!0,children:Object(u.jsx)(o.b,{to:"/all-quotes"})}),Object(u.jsx)(o.c,{path:"/all-quotes",exact:!0,children:Object(u.jsx)(S,{})}),Object(u.jsx)(o.c,{path:"/new-quote",children:Object(u.jsx)(E,{})}),Object(u.jsx)(o.c,{path:"/all-quotes/:quoteId",children:Object(u.jsx)(z,{})}),Object(u.jsx)(o.c,{path:"*",children:Object(u.jsx)($,{})})]})})]})};s.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(a.a,{children:Object(u.jsx)(ee,{})}))}],[[49,1,2]]]);
//# sourceMappingURL=main.b981856b.chunk.js.map