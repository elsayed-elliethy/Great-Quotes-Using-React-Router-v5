{"ast":null,"code":"import _regeneratorRuntime from\"D:/React2/React Router/Practice v5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/React2/React Router/Practice v5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/React2/React Router/Practice v5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component,useCallback,useState}from\"react\";var useHttp=function useHttp(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var requestFn=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(configReq,applyData){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch(configReq.url,{method:configReq.method?configReq.method:\"GET\",headers:configReq.headers?configReq.headers:{},body:configReq.body?JSON.stringify(configReq.body):null});case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Request Field\");case 8:_context.next=10;return response.json();case 10:data=_context.sent;applyData(data);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);// setError(err.message || \"Something Went Wrong\");\nsetError(\"Something Went Wrong\");case 17:setIsLoading(false);case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[]);return{isLoading:isLoading,error:error,requestFn:requestFn};};export default useHttp;/*\n\nimport { useReducer, useCallback } from 'react';\n\nfunction httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending',\n    };\n  }\n\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed',\n    };\n  }\n\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed',\n    };\n  }\n\n  return state;\n}\n\nfunction useHttp(requestFunction, startWithPending = false) {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? 'pending' : null,\n    data: null,\n    error: null,\n  });\n\n  const sendRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: 'SEND' });\n      try {\n        const responseData = await requestFunction(requestData);\n        dispatch({ type: 'SUCCESS', responseData });\n      } catch (error) {\n        dispatch({\n          type: 'ERROR',\n          errorMessage: error.message || 'Something went wrong!',\n        });\n      }\n    },\n    [requestFunction]\n  );\n\n  return {\n    sendRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n*/","map":{"version":3,"names":["React","Component","useCallback","useState","useHttp","isLoading","setIsLoading","error","setError","requestFn","configReq","applyData","fetch","url","method","headers","body","JSON","stringify","response","ok","Error","json","data"],"sources":["D:/React2/React Router/Practice v5/src/hooks/use-http.js"],"sourcesContent":["import React, { Component, useCallback, useState } from \"react\";\n\nconst useHttp = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const requestFn = useCallback(async (configReq, applyData) => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(configReq.url, {\n        method: configReq.method ? configReq.method : \"GET\",\n        headers: configReq.headers ? configReq.headers : {},\n        body: configReq.body ? JSON.stringify(configReq.body) : null,\n      });\n      if (!response.ok) {\n        throw new Error(\"Request Field\");\n      }\n      const data = await response.json();\n      applyData(data);\n    } catch (err) {\n      // setError(err.message || \"Something Went Wrong\");\n      setError(\"Something Went Wrong\");\n    }\n\n    setIsLoading(false);\n  }, []);\n  return {\n    isLoading: isLoading,\n    error: error,\n    requestFn: requestFn,\n  };\n};\n\nexport default useHttp;\n\n/*\n\nimport { useReducer, useCallback } from 'react';\n\nfunction httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending',\n    };\n  }\n\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed',\n    };\n  }\n\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed',\n    };\n  }\n\n  return state;\n}\n\nfunction useHttp(requestFunction, startWithPending = false) {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? 'pending' : null,\n    data: null,\n    error: null,\n  });\n\n  const sendRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: 'SEND' });\n      try {\n        const responseData = await requestFunction(requestData);\n        dispatch({ type: 'SUCCESS', responseData });\n      } catch (error) {\n        dispatch({\n          type: 'ERROR',\n          errorMessage: error.message || 'Something went wrong!',\n        });\n      }\n    },\n    [requestFunction]\n  );\n\n  return {\n    sendRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n*/\n"],"mappings":"wXAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,WAA3B,CAAwCC,QAAxC,KAAwD,OAAxD,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,cAAkCD,QAAQ,CAAC,KAAD,CAA1C,wCAAOE,SAAP,eAAkBC,YAAlB,eACA,eAA0BH,QAAQ,CAAC,IAAD,CAAlC,yCAAOI,KAAP,eAAcC,QAAd,eAEA,GAAMC,UAAS,CAAGP,WAAW,4FAAC,iBAAOQ,SAAP,CAAkBC,SAAlB,sIAC5BL,YAAY,CAAC,IAAD,CAAZ,CACAE,QAAQ,CAAC,IAAD,CAAR,CAF4B,sCAIHI,MAAK,CAACF,SAAS,CAACG,GAAX,CAAgB,CAC1CC,MAAM,CAAEJ,SAAS,CAACI,MAAV,CAAmBJ,SAAS,CAACI,MAA7B,CAAsC,KADJ,CAE1CC,OAAO,CAAEL,SAAS,CAACK,OAAV,CAAoBL,SAAS,CAACK,OAA9B,CAAwC,EAFP,CAG1CC,IAAI,CAAEN,SAAS,CAACM,IAAV,CAAiBC,IAAI,CAACC,SAAL,CAAeR,SAAS,CAACM,IAAzB,CAAjB,CAAkD,IAHd,CAAhB,CAJF,QAIpBG,QAJoB,kBASrBA,QAAQ,CAACC,EATY,8BAUlB,IAAIC,MAAJ,CAAU,eAAV,CAVkB,+BAYPF,SAAQ,CAACG,IAAT,EAZO,SAYpBC,IAZoB,eAa1BZ,SAAS,CAACY,IAAD,CAAT,CAb0B,iFAe1B;AACAf,QAAQ,CAAC,sBAAD,CAAR,CAhB0B,QAmB5BF,YAAY,CAAC,KAAD,CAAZ,CAnB4B,qEAAD,mEAoB1B,EApB0B,CAA7B,CAqBA,MAAO,CACLD,SAAS,CAAEA,SADN,CAELE,KAAK,CAAEA,KAFF,CAGLE,SAAS,CAAEA,SAHN,CAAP,CAKD,CA9BD,CAgCA,cAAeL,QAAf,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}