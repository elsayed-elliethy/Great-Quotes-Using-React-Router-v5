{"ast":null,"code":"import _slicedToArray from\"D:/React2/React Router/Practice v5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import QuoteForm from\"../components/quotes/QuoteForm\";import useHttp from\"../hooks/use-http\";import{jsx as _jsx}from\"react/jsx-runtime\";var NewQuote=function NewQuote(props){var history=useHistory();//////////\nvar _useHttp=useHttp(),isLoading=_useHttp.isLoading,error=_useHttp.error,sendQuote=_useHttp.requestFn;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSubmited=_useState2[0],setIsSubmited=_useState2[1];var addQuoteHandler=function addQuoteHandler(newQuote){var transformData=function transformData(data){setIsSubmited(true);};sendQuote({url:\"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json\",method:\"POST\",body:newQuote},transformData);};if(isSubmited&&!error&&!isLoading){history.push(\"/all-quotes\");}///////////////\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(QuoteForm,{isLoading:isLoading,onAddQuote:addQuoteHandler})});};export default NewQuote;","map":{"version":3,"names":["useEffect","useState","useHistory","QuoteForm","useHttp","NewQuote","props","history","isLoading","error","sendQuote","requestFn","isSubmited","setIsSubmited","addQuoteHandler","newQuote","transformData","data","url","method","body","push"],"sources":["D:/React2/React Router/Practice v5/src/pages/NewQuote.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport QuoteForm from \"../components/quotes/QuoteForm\";\r\nimport useHttp from \"../hooks/use-http\";\r\n\r\nconst NewQuote = (props) => {\r\n  const history = useHistory();\r\n\r\n  //////////\r\n  const { isLoading, error, requestFn: sendQuote } = useHttp();\r\n  const [isSubmited, setIsSubmited] = useState(false);\r\n  const addQuoteHandler = (newQuote) => {\r\n    const transformData = (data) => {\r\n      setIsSubmited(true);\r\n    };\r\n    sendQuote(\r\n      {\r\n        url: \"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json\",\r\n        method: \"POST\",\r\n        body: newQuote,\r\n      },\r\n      transformData\r\n    );\r\n  };\r\n\r\n  if (isSubmited && !error && !isLoading) {\r\n    history.push(\"/all-quotes\");\r\n  }\r\n\r\n  ///////////////\r\n  return (\r\n    <div>\r\n      <QuoteForm isLoading={isLoading} onAddQuote={addQuoteHandler}></QuoteForm>\r\n    </div>\r\n  );\r\n};\r\nexport default NewQuote;\r\n"],"mappings":"wHAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,UAAP,KAAsB,gCAAtB,CACA,MAAOC,QAAP,KAAoB,mBAApB,C,2CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAC1B,GAAMC,QAAO,CAAGL,UAAU,EAA1B,CAEA;AACA,aAAmDE,OAAO,EAA1D,CAAQI,SAAR,UAAQA,SAAR,CAAmBC,KAAnB,UAAmBA,KAAnB,CAAqCC,SAArC,UAA0BC,SAA1B,CACA,cAAoCV,QAAQ,CAAC,KAAD,CAA5C,wCAAOW,UAAP,eAAmBC,aAAnB,eACA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,QAAD,CAAc,CACpC,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,IAAD,CAAU,CAC9BJ,aAAa,CAAC,IAAD,CAAb,CACD,CAFD,CAGAH,SAAS,CACP,CACEQ,GAAG,CAAE,oEADP,CAEEC,MAAM,CAAE,MAFV,CAGEC,IAAI,CAAEL,QAHR,CADO,CAMPC,aANO,CAAT,CAQD,CAZD,CAcA,GAAIJ,UAAU,EAAI,CAACH,KAAf,EAAwB,CAACD,SAA7B,CAAwC,CACtCD,OAAO,CAACc,IAAR,CAAa,aAAb,EACD,CAED;AACA,mBACE,kCACE,KAAC,SAAD,EAAW,SAAS,CAAEb,SAAtB,CAAiC,UAAU,CAAEM,eAA7C,EADF,EADF,CAKD,CA9BD,CA+BA,cAAeT,SAAf"},"metadata":{},"sourceType":"module"}